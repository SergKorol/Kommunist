# Keep all ViewModels
-keep class Kommunist.Application.ViewModels.** { *; }
-keepclassmembers class Kommunist.Application.ViewModels.** { *; }

# Keep all Commands and ICommand implementations
-keep class * implements System.Windows.Input.ICommand { *; }
-keepclassmembers class * implements System.Windows.Input.ICommand { *; }

# Keep MAUI Command classes (using wildcard for generics)
-keep class Microsoft.Maui.Controls.Command* { *; }
-keepclassmembers class Microsoft.Maui.Controls.Command* { *; }

# Keep PropertyChanged.Fody weaving
-keep class PropertyChanged.** { *; }
-keepclassmembers class ** {
    void OnPropertyChanged(***);
    void RaisePropertyChanged(***);
}

# Keep all binding-related members
-keepclassmembers class * {
    public ** get*();
    public void set*(***);
}

# Keep CommunityToolkit.Mvvm
-keep class CommunityToolkit.Mvvm.** { *; }
-keepclassmembers class CommunityToolkit.Mvvm.** { *; }

# Keep all Views
-keep class Kommunist.Application.Views.** { *; }
-keepclassmembers class Kommunist.Application.Views.** { *; }

# Keep gesture recognizers
-keep class Microsoft.Maui.Controls.GestureRecognizer* { *; }
-keep class Microsoft.Maui.Controls.TapGestureRecognizer* { *; }
-keepclassmembers class Microsoft.Maui.Controls.TapGestureRecognizer* { *; }

# Keep all ObservableCollections
-keep class System.Collections.ObjectModel.** { *; }
-keepclassmembers class System.Collections.ObjectModel.** { *; }

# Keep all reflection-related members
-keepattributes *Annotation*
-keepattributes Signature
-keepattributes InnerClasses
-keepattributes EnclosingMethod

# Disable obfuscation completely
-dontobfuscate
-dontoptimize
